<div class="row m-2" style='background:#DCD4D2'>
    <div class="col-12 mb-2">
        <div class='list-group'>
            <h3 class='list-group-item-heading text-center mt-3'>MANTENIMIENTO DE USUARIOS</h3>
            <div class='d-flex flex-row justify-content-center'>
                <div class='d-flex d-block'>
                    <input #input placeholder="Buscar usuario" class=' list-group-item' type="text">
                    <button class='btn btn-warning ' (click)='searchMode=true;getMode=false;from=0;_userServices.searchUsers(input.value).subscribe();users=[]'>BUSCAR USUARIOS</button>
                    <button class='btn btn-warning' (click)='searchMode=false;getMode=true;from=0;_userServices.getUsers().subscribe();users=[]'>TODOS</button>
                </div>

            </div>
        </div>
    </div>
    <div class="col-12 mb-2 " style='background:#F5F1E3'>
        <table class='table table-hover'>
            <tr>
                <th>Imagen</th>
                <th>Email</th>
                <th>Nombre</th>
                <th>Rol</th>
                <th>Estado</th>
                <th></th>
            </tr>

            <tr *ngFor="let user of users let i=index">
                <td>
                    <img class='img-fluid' style='height:100px;width:100px; cursor: pointer ' (click)='openUploadFilesModule(user._id)' [src]="user.img | imgPipe:'users'" class='img100 img-circle'>
                </td>
                <td>{{user.email}}</td>
                <td>{{user.name}}</td>
                <td>
                    <select [(ngModel)]='user.role' name="role" class='form-control' (change)="changeRole(user)">
                      <option value="USER_ROLE">USER_ROLE</option>
                      <option value="ADMIN_ROLE">ADMIN_ROLE</option>
                    </select>
                </td>
                <td>
                    <button class='btn btn-warning' (click)="_userServices.changeUserStatus(user._id).subscribe()" name="activador" value="Activar Usuario">{{checkStatus(user.status)}}</button>
                </td>
                <td>
                    <div class="col-12 d-flex flex-row">
                        <button (click)='deleteUser(user._id)' class='btn btn-danger'>
                         <i class="far fa-trash-alt"></i>
                        </button>
                    </div>
                </td>
            </tr>
        </table>
        <div class='d-flex justify-content-around'>
            <button *ngIf="from && from > 0" (click)='changeFrom(-5)' class='btn btn-secondary'>Previous</button>
            <button *ngIf="_userServices.count >= from+5" (click)='changeFrom(5)' class='btn btn-secondary'>Following</button>
        </div>
    </div>