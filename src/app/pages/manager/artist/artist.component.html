<div class="row" *ngIf="!trackId">
    <table class='table'>
        <thead>
            <th>Nombre</th>
            <th>Usuario</th>
            <th>Últimas liquidaciones</th>
            <th></th>
        </thead>
        <tbody>
            <tr *ngFor="let artist of _managerServices.artists let i=index">
                <td> <a (click)="_managerServices.idNavigation(artist._id,'artist')">{{artist.name}}</a> </td>
                <td>
                    <a *ngIf="artist.user">{{artist.user['name']}}</a>
                </td>
                <td>
                    <div class='scrollable '>
                        <p *ngFor="let payment of _managerServices.payments">
                            {{payment.amount}} -- {{payment.date | date}}
                        </p>
                    </div>
                </td>
                <td><button (click)='putArtist(artist.indexcard) ' class="btn btn-primary text-center">
                    <i class="fa fa-info"></i>
                </button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class='d-flex justify-content-center mb-2 '>
        <button *ngIf="_managerServices.from && _managerServices.from > 0" (click)='changeFrom(-6) ' class='btn btn-secondary '>Previous</button>
        <button *ngIf="_managerServices.count > _managerServices.from + 6" (click)='changeFrom(6) ' class='btn btn-secondary '>Following</button>
    </div>
</div>
<div class="row" *ngIf="trackId" style='border-top: 1px black'>
    <div class=' col-12 d-flex justify-content-around'>
        <div>TITULO: {{_managerServices.track.title}}</div>
        <div>ALBUM: {{_managerServices.track.album['title']}}</div>
        <div><button (click)='pushAssignation(trackId)' class='btn btn-warning'>Añadir asignación</button></div>
    </div>

    <div class="col-12 d-flex justify-content-center">
        <p>ARTISTAS PARTICIPANTES</p>
    </div>
    <table class='table'>
        <thead>
            <th>Nombre</th>
            <th>Usuario</th>
            <th>Asignación</th>
            <th></th>
        </thead>
        <tbody *ngIf="trackId">
            <tr *ngFor="let assignation of _managerServices.track.assignations let i=index">
                <td>{{assignation.artist['name']}}</td>
                <td>
                    <p *ngIf="assignation.artist['user']">{{assignation.artist['user'].name}} </p>
                </td>
                <td>
                    <p>
                        {{assignation.percent}}%
                    </p>
                </td>
                <td><button (click)="putArtist(assignation.artist['indexcard'])" class="btn btn-primary text-center">
                        <i class="fa fa-info"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class='d-flex justify-content-center mb-2 '>
        <button *ngIf="_managerServices.from && _managerServices.from > 0" (click)='changeFrom(-6) ' class='btn btn-secondary '>Previous</button>
        <button *ngIf="_managerServices.count > _managerServices.from + 6" (click)='changeFrom(6) ' class='btn btn-secondary '>Following</button>
    </div>
</div>