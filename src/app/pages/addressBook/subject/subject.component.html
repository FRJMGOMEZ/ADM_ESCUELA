<div class="row main">
    <div class="col-12">
        <div class='list-group'>
            <h3 class='list-group-item-heading text-center mt-3'>MANTENIMIENTO DE MATERIAS</h3>
            <button (click)='openSubjectModal()' class='btn btn-warning m-2'>CREAR MATERIA</button>
            <div class="row card-group">
                <div *ngFor="let subject of subjects" class="card">
                    <div (click)='subjectSelected=subject' class="card-body d-flex justify-content-center">
                        <a style='cursor: pointer'>{{subject.name}}</a>
                    </div>
                </div>
            </div>
            <div *ngIf="!cargando" class="row animated fadeIn">
                <div *ngIf="subjectSelected" class="col-12">
                    <div class="card">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-11">
                                    <h5 class='text-center'>{{subjectSelected.name.toUpperCase()}}</h5>
                                </div>

                                <div class="col-1 d-flex justify-content-end">
                                    <button (click)='_subjectServices.deleteSubject(subjectSelected._id,token).subscribe();subjectSelected = null;' class='text-left m-2'><i class="far fa-trash-alt"></i></button>
                                    <button (click)='openSubjectModal(subjectSelected._id)' class='m-2'><i class="fas fa-edit"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6">
                                    <div class='d-flex justify-content-around'>
                                        <h6 class='text-center'>PROFESORES</h6>
                                    </div>
                                    <div>
                                        <button (click)='addProfessor(subjectSelected._id)' class='btn btn-block btn-warning'>Añadir</button>
                                    </div>
                                    <div *ngIf="subjectSelected.professors.length > 0" class="row">
                                        <div *ngFor="let professor of subjectSelected.professors" class='col-12 p-2 '>
                                            <div class="row d-flex flex-row justify-content-center">
                                                <div class='pr-2'><a>{{professor['name']}}</a></div>
                                                <div class='pl-5'><button (click)="_subjectServices.addOrDeleteProfessor(subjectSelected._id,professor['_id'],token).subscribe()" class='btn btn-danger'>x</button></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div>
                                        <h6 class='text-center'>ALUMNOS</h6>
                                    </div>
                                    <div>
                                        <button (click)='addAlumni(subjectSelected._id)' class='btn btn-block btn-warning'>Añadir</button>
                                    </div>
                                    <div *ngIf="subjectSelected.alumnis.length > 0" class="row">
                                        <div *ngFor="let alumni of subjectSelected.alumnis" class="col-6 pt-2">
                                            <div class="row d-flex flex-row justify-content-around">
                                                <div><a>{{alumni['name']}}</a></div>
                                                <div><button (click)="_subjectServices.addOrDeleteAlumni(subjectSelected._id,alumni['_id'],token).subscribe()" class='btn btn-danger'>x</button></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 mt-2">
                                    <strong>Información útil:</strong>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quisquam laboriosam excepturi corrupti natus dolorum quos ratione nostrum earum officiis, quae ipsam culpa libero ut illo beatae obcaecati necessitatibus officia
                                        neque.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='w-100'></div>
</div>