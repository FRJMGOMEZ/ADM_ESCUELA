<div class='animated fadeIn' [ngClass]="_modalController.hidden">
    <div class="modal" style='display: block' role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button (click)="hideModal()" type="button" class="close" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body pb-4">
                    <form ngNativeValidate #form='ngForm' role='form'>
                        <div *ngIf="page==='1'" class="d-flex justify-content-center form-group flex-column mb-2">
                            <p class='text-center'>Selecciona la hora de inicio del evento</p>
                            <select *ngIf="clock >= 0" [(ngModel)]="start" name=start class='form-control'>
                                        <option value=0>{{position | timePipe:'0'}}</option>
                                        <option *ngIf="timeAvailable >= 0.50 && clock < 0.75" value=0.25>{{position | timePipe:'25'}}</option>
                                        <option *ngIf="timeAvailable >= 0.75 && clock < 0.50 " value=0.50>{{position | timePipe:'50'}}</option>
                                        <option *ngIf="timeAvailable >= 1 && clock < 0.25" value=0.75>{{position | timePipe:'75'}}</option>
                                    </select>
                            <div class='d-flex justify-content-around'>
                                <button *ngIf="start" (click)="switch(page,'next')">NEXT</button>
                            </div>
                        </div>
                        <div *ngIf="page === '2'" class="d-flex form-group d-flex flex-column">
                            DURACION
                            <select *ngIf="timeAvailable - (time.minutes/100) >= 1" [(ngModel)]="time.hour" name="time.hour" class='form-control'>
                                    <option  value=0> </option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 1" value=1>{{timeAvailable-(timeAvailable-1)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 2"value=2>{{timeAvailable-(timeAvailable-2)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 3"value=3>{{timeAvailable-(timeAvailable-3)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 4"value=4>{{timeAvailable-(timeAvailable-4)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 5"value=5>{{timeAvailable-(timeAvailable-5)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 6"value=6>{{timeAvailable-(timeAvailable-6)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 7"value=7>{{timeAvailable-(timeAvailable-7)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 8"value=8>{{timeAvailable-(timeAvailable-8)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 9"value=9>{{timeAvailable-(timeAvailable-9)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 10"value=10>{{timeAvailable-(timeAvailable-10)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 11"value=11>{{timeAvailable-(timeAvailable-11)}}</option>
                                    <option *ngIf="timeAvailable - (time.minutes/100) >= 12" value=12>{{timeAvailable-(timeAvailable-12)}}</option>
                                </select>
                            <select *ngIf="timeAvailable - time.hour >= 0.25" [(ngModel)]="time.minutes" name="time.minutes" class='form-control'>
                                    <option value=0></option>
                                    <option *ngIf="timeAvailable-time.hour >=0.25" value=25>15 minutos</option>
                                    <option *ngIf="timeAvailable-time.hour >= 0.50" value=50>30 minutos</option>
                                    <option *ngIf="timeAvailable-time.hour >= 0.75" value=75>45 minutos</option>
                                </select>
                            <div class="custom-control custom-checkbox">
                                <input [(ngModel)]="repetition" name='repetition' type="checkbox" class="custom-control-input" id="customCheck1">
                                <label class="custom-control-label" for="customCheck1">Repetir todas las semanas</label>
                            </div>
                            <div class='d-flex justify-content-around'>
                                <button (click)="switch('2','prev')">PREV</button>
                                <button *ngIf="time.minutes > 0 || time.hour > 0" (click)="switch('2','next')">NEXT</button>
                            </div>
                        </div>
                        <div *ngIf="page === '3'" #div3 class="row d-flex form-group flex-column align-content-center">
                            <input [(ngModel)]='name' name='name' type="text" class="form-control" placeholder="Nombre" required>
                            <textarea [(ngModel)]="description" type="text" name="description" class="form-control"></textarea>
                            <div class='d-flex justify-content-around'>
                                <button (click)="switch('3','prev')">PREV</button>
                                <button *ngIf="name" (click)="switch('3','next')">NEXT</button>
                            </div>
                        </div>
                        <div *ngIf="page ==='4'" #div4 class="row d-flex justify-content-center">
                            <div class="row">
                                <div class="col-6 d-flex flex-column">
                                    <p>Materias
                                        <p>
                                            <select #valueSubject>
                                           <option value=" "></option>
                                           <option *ngFor="let subject of subjects " [value]="subject._id ">{{subject.nombre}}</option>
                                        </select>

                                            <button class='btn btn-warning' (click)='addSubject(valueSubject.value)'>ADD</button>

                                            <div class='d-flex flex-column' class=''>
                                                <a *ngFor="let subject of selectedSubjects "> {{subject.nombre}}</a>
                                            </div>
                                </div>
                                <div class="col-6 d-flex flex-column">
                                    <p>Profesores
                                        <p>
                                            <select #valueProfessor>
                                            <option value=" "></option>
                                            <option *ngFor="let professor of professors " [value]="professor._id ">{{professor.nombre}}</option>
                                        </select>
                                            <button class='btn btn-warning' (click)='addProfessor(valueProfessor.value)'>ADD</button>
                                            <div class='d-flex flex-column'>
                                                <a *ngFor="let professor of selectedProfessors ">{{professor.nombre}}</a>
                                            </div>
                                </div>
                                <div class="col-12 d-flex justify-content-around">
                                    <button (click)="switch('4','prev')">PREV</button>
                                    <button *ngIf="!eventId" (click)='createEvent()' class='btn btn-warning'>CREAR EVENTO</button>
                                    <button *ngIf="eventId" (click)='changeEvent()' class='btn btn-warning'>MODIFICAR EVENTO</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>